(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{175:function(e,t,o){"use strict";o.r(t);var r=o(9),component=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h1",[e._v("CORS with API Gateway")]),e._v(" "),o("h2",[e._v("What is CORS?")]),e._v(" "),o("p",[e._v("CORS (Cross Origin Resource Sharing) allows access to resources from other domains,\na good use case for this is a web app trying to fetch data from an API on another\ndomain. CORS is only required when trying to fetch data from a "),o("em",[e._v("browser")]),e._v(",\nas browsers by default will block requests to different origins (domains).")]),e._v(" "),o("p",[e._v("CORS uses HTTP headers to tell the browser if it has permission to fetch the resources.")]),e._v(" "),o("p",[e._v("Browsers use a preflight header to determine if it has permission to interact with\nthe domain. This preflight header takes the form of a "),o("code",[e._v("OPTIONS")]),e._v(" request, usually\nsending the following HTTP headers to the server:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Access-Control-Request-Method")]),e._v(": The method of the request, e.g. "),o("code",[e._v("GET")]),e._v(" if trying to get data")]),e._v(" "),o("li",[o("code",[e._v("Access-Control-Request-Headers")]),e._v(": The headers that will be sent to the server")])]),e._v(" "),o("p",[e._v("The response will usually contain the following headers:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Access-Control-Allow-Origin")]),e._v(": The origins that are allowed to access\nthe resource (specify '*' for all)")]),e._v(" "),o("li",[o("code",[e._v("Access-Control-Allow-Methods")]),e._v(": The methods that are allowed on the resource,\ne.g. "),o("code",[e._v('"GET,POST,OPTIONS"')]),e._v(", remember to include "),o("code",[e._v("OPTIONS")]),e._v(" in it,\nas its required for the preflight header")]),e._v(" "),o("li",[o("code",[e._v("Access-Control-Allow-Headers")]),e._v(": The additional headers that are\nallowed on the resource")])]),e._v(" "),o("h2",[e._v("Setting CORS in API Gateway")]),e._v(" "),o("p",[e._v("Setting up CORS in API Gateway can be a little tricky, especially if your\ntrying to write it in CloudFormation")]),e._v(" "),o("p",[e._v("The general steps to add it include:")]),e._v(" "),o("ul",[o("li",[e._v("Add a resource to handle the preflight "),o("code",[e._v("OPTIONS")]),e._v(" request")]),e._v(" "),o("li",[e._v("Allow API gateway to pass through the headers")])])])}],!1,null,null,null);t.default=component.exports}}]);